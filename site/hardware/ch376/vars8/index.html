
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.2">
    
    
      
        <title>CH376 extra vars - Orix</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.19190aaf.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.24b84193.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ch376-extra-vars" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../.." title="Orix" class="md-header-nav__button md-logo" aria-label="Orix">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Orix
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              CH376 extra vars
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." class="md-tabs__link md-tabs__link--active">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../home/" class="md-tabs__link">
          Getting started
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../home/" class="md-tabs__link">
          Developper guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../i_o/" class="md-tabs__link">
          Hardware guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../commands/all/" class="md-tabs__link">
          User guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../home/kernel/" class="md-tabs__link">
          Kernel guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../libs/twillib/" class="md-tabs__link">
          Extra Libs
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Orix" class="md-nav__button md-logo" aria-label="Orix">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Orix
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting started
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Getting started" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Getting started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/" class="md-nav__link">
      Installation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Developper guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Developper guide" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Developper guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/memory/" class="md-nav__link">
      Memory management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/buildrom/" class="md-nav__link">
      Build an Orix rom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/buildstandalonerom/" class="md-nav__link">
      Build standalone Rom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/orixsdk/" class="md-nav__link">
      SDK for Assembly
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/buildman/" class="md-nav__link">
      Generate man pages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/cc65/" class="md-nav__link">
      cc65
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/header/" class="md-nav__link">
      Binary header format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/joysticks/" class="md-nav__link">
      Joysticks management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/pizero_connection/" class="md-nav__link">
      Cross development on real hardware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/oricutronvsreal/" class="md-nav__link">
      Oricutron VS real hardware
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Hardware guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Hardware guide" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Hardware guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../i_o/" class="md-nav__link">
      I/O
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/firmware/" class="md-nav__link">
      Firmware informations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../joysticks/" class="md-nav__link">
      Joysticks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      User guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User guide" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        User guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../commands/all/" class="md-nav__link">
      Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Shell guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Shell guide" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        <span class="md-nav__icon md-icon"></span>
        Shell guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../how-it-work/" class="md-nav__link">
      Basic 11 commands
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Kernel guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Kernel guide" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Kernel guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../home/kernel/" class="md-nav__link">
      Kernel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../kernel/primitives/" class="md-nav__link">
      Primitives
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../how-it-work/binary_starts/" class="md-nav__link">
      Boot sequence
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Extra Libs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Extra Libs" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Extra Libs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../libs/twillib/" class="md-nav__link">
      Twilighte librairy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vars-8" class="md-nav__link">
    Vars 8
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="ch376-extra-vars">CH376 extra vars</h1>
<h2 id="vars-8">Vars 8</h2>
<div class="highlight"><pre><span></span><code><span class="cp">#define VAR_SYS_BASE_INFO 0x20 / * Informations de base du système actuel * /</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Le</span> <span class="n">bit</span> <span class="mi">6</span> <span class="n">est</span> <span class="n">utilisé</span> <span class="n">pour</span> <span class="n">indiquer</span> <span class="n">la</span> <span class="n">sous</span><span class="o">-</span><span class="n">classe</span> <span class="n">du</span> <span class="n">périphérique</span> <span class="n">de</span> <span class="n">stockage</span> <span class="n">USB</span> <span class="n">SubClass</span><span class="o">-</span><span class="n">Code</span><span class="p">,</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">6</span> <span class="n">est</span> <span class="mi">0</span> <span class="n">pour</span> <span class="n">indiquer</span> <span class="n">que</span> <span class="n">la</span> <span class="n">sous</span><span class="o">-</span><span class="n">classe</span> <span class="n">est</span> <span class="mi">6</span> <span class="n">et</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">6</span> <span class="n">est</span> <span class="mi">1</span> <span class="n">pour</span> <span class="n">indiquer</span> <span class="n">que</span> <span class="n">la</span> <span class="n">sous</span><span class="o">-</span><span class="n">classe</span> <span class="n">est</span> <span class="n">différente</span> <span class="n">de</span> <span class="mi">6</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Le</span> <span class="n">bit</span> <span class="mi">5</span> <span class="n">est</span> <span class="n">utilisé</span> <span class="n">pour</span> <span class="n">indiquer</span> <span class="n">l</span><span class="err">&#39;é</span><span class="n">tat</span> <span class="n">de</span> <span class="n">la</span> <span class="n">configuration</span> <span class="n">USB</span> <span class="n">en</span> <span class="n">mode</span> <span class="n">périphérique</span> <span class="n">USB</span> <span class="n">et</span> <span class="n">l</span><span class="err">&#39;é</span><span class="n">tat</span> <span class="n">de</span> <span class="n">la</span> <span class="n">connexion</span> <span class="n">du</span> <span class="n">périphérique</span> <span class="n">USB</span> <span class="n">en</span> <span class="n">mode</span> <span class="n">hôte</span> <span class="n">USB</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">En</span> <span class="n">mode</span> <span class="n">périphérique</span> <span class="n">USB</span><span class="p">,</span> <span class="n">si</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">5</span> <span class="n">est</span> <span class="mi">1</span><span class="p">,</span> <span class="n">la</span> <span class="n">configuration</span> <span class="n">USB</span> <span class="n">est</span> <span class="n">terminée</span> <span class="n">et</span> <span class="n">les</span> <span class="n">bits</span> <span class="mi">5</span> <span class="n">et</span> <span class="mi">0</span> <span class="n">ne</span> <span class="n">sont</span> <span class="n">pas</span> <span class="n">configurés</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">En</span> <span class="n">mode</span> <span class="n">hôte</span> <span class="n">USB</span><span class="p">,</span> <span class="n">si</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">5</span> <span class="n">est</span> <span class="mi">1</span><span class="p">,</span> <span class="n">il</span> <span class="n">y</span> <span class="n">a</span> <span class="n">un</span> <span class="n">périphérique</span> <span class="n">USB</span> <span class="n">dans</span> <span class="n">le</span> <span class="n">port</span> <span class="n">USB</span><span class="p">,</span> <span class="n">et</span> <span class="n">si</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">5</span> <span class="n">est</span> <span class="mi">0</span><span class="p">,</span> <span class="n">il</span> <span class="n">n</span><span class="err">&#39;</span><span class="n">y</span> <span class="n">a</span> <span class="n">pas</span> <span class="n">de</span> <span class="n">périphérique</span> <span class="n">USB</span> <span class="n">dans</span> <span class="n">le</span> <span class="n">port</span> <span class="n">USB</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Le</span> <span class="n">bit</span> <span class="mi">4</span> <span class="n">est</span> <span class="n">utilisé</span> <span class="n">pour</span> <span class="n">indiquer</span> <span class="n">l</span><span class="err">&#39;é</span><span class="n">tat</span> <span class="n">de</span> <span class="n">verrouillage</span> <span class="n">du</span> <span class="n">tampon</span> <span class="n">en</span> <span class="n">mode</span> <span class="n">périphérique</span> <span class="n">USB</span><span class="p">.</span> <span class="n">Le</span> <span class="n">bit</span> <span class="mi">4</span> <span class="n">est</span> <span class="mi">1</span> <span class="n">signifie</span> <span class="n">que</span> <span class="n">le</span> <span class="n">tampon</span> <span class="n">USB</span> <span class="n">est</span> <span class="n">verrouillé</span> <span class="n">et</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">6</span> <span class="n">est</span> <span class="mi">1</span> <span class="n">signifie</span> <span class="n">qu</span><span class="err">&#39;</span><span class="n">il</span> <span class="n">a</span> <span class="err">é</span><span class="n">té</span> <span class="n">libéré</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Autres</span> <span class="n">bits</span><span class="p">,</span> <span class="n">réservés</span><span class="p">,</span> <span class="n">veuillez</span> <span class="n">ne</span> <span class="n">pas</span> <span class="n">modifier</span> <span class="o">*</span> <span class="o">/</span>
<span class="cp">#define VAR_RETRY_TIMES 0x25 / * Nombre de tentatives d&#39;opération de transaction USB * /</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Si</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">7</span> <span class="n">est</span> <span class="mi">0</span><span class="p">,</span> <span class="n">il</span> <span class="n">ne</span> <span class="n">réessayera</span> <span class="n">pas</span> <span class="n">lorsque</span> <span class="n">NAK</span> <span class="n">est</span> <span class="n">reçu</span><span class="p">,</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">7</span> <span class="n">est</span> <span class="mi">1</span> <span class="n">et</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">6</span> <span class="n">est</span> <span class="mi">0</span><span class="p">,</span> <span class="n">et</span> <span class="n">réessayera</span> <span class="err">à</span> <span class="n">l</span><span class="err">&#39;</span><span class="n">infini</span> <span class="n">lors</span> <span class="n">de</span> <span class="n">la</span> <span class="n">réception</span> <span class="n">de</span> <span class="n">NAK</span> <span class="p">(</span><span class="n">vous</span> <span class="n">pouvez</span> <span class="n">utiliser</span> <span class="n">la</span> <span class="n">commande</span> <span class="n">CMD_ABORT_NAK</span> <span class="n">pour</span> <span class="n">abandonner</span> <span class="n">la</span> <span class="n">nouvelle</span> <span class="n">tentative</span><span class="p">),</span> <span class="n">le</span> <span class="n">bit</span> <span class="mi">7</span> <span class="n">est</span> <span class="mi">1</span> <span class="n">et</span> <span class="mi">6</span> <span class="n">est</span> <span class="mi">1</span> <span class="n">Réessayez</span> <span class="n">au</span> <span class="n">plus</span> <span class="mi">3</span> <span class="n">secondes</span> <span class="n">lors</span> <span class="n">de</span> <span class="n">la</span> <span class="n">réception</span> <span class="n">de</span> <span class="n">NAK</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">5</span> <span class="o">~</span> <span class="n">Bit</span> <span class="mi">0</span> <span class="n">représente</span> <span class="n">le</span> <span class="n">nombre</span> <span class="n">de</span> <span class="n">tentatives</span> <span class="n">après</span> <span class="n">l</span><span class="err">&#39;</span><span class="n">expiration</span> <span class="n">du</span> <span class="n">délai</span> <span class="o">*</span> <span class="o">/</span>
<span class="cp">#define VAR_FILE_BIT_FLAG 0x26 / * Indicateur de bit en mode fichier hôte * /</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">1</span> <span class="n">et</span> <span class="n">Bit</span> <span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="err">&#39;</span><span class="n">indicateur</span> <span class="n">du</span> <span class="n">système</span> <span class="n">de</span> <span class="n">fichiers</span> <span class="n">FAT</span> <span class="n">du</span> <span class="n">disque</span> <span class="n">logique</span><span class="p">,</span> <span class="mo">00</span><span class="o">-</span><span class="n">FAT12</span><span class="p">,</span> <span class="mo">01</span><span class="o">-</span><span class="n">FAT16</span><span class="p">,</span> <span class="mi">10</span><span class="o">-</span><span class="n">FAT32</span><span class="p">,</span> <span class="mi">11</span><span class="o">-</span><span class="n">illégal</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">2</span><span class="p">,</span> <span class="n">indique</span> <span class="n">si</span> <span class="n">les</span> <span class="n">données</span> <span class="n">de</span> <span class="n">la</span> <span class="n">table</span> <span class="n">FAT</span> <span class="n">dans</span> <span class="n">le</span> <span class="n">tampon</span> <span class="n">courant</span> <span class="n">ont</span> <span class="err">é</span><span class="n">té</span> <span class="n">modifiées</span><span class="p">,</span> <span class="mi">0</span><span class="o">-</span><span class="n">non</span> <span class="n">modifié</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">modifié</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">3</span><span class="p">,</span> <span class="n">la</span> <span class="n">longueur</span> <span class="n">du</span> <span class="n">fichier</span> <span class="n">doit</span> <span class="err">ê</span><span class="n">tre</span> <span class="n">modifiée</span><span class="p">,</span> <span class="n">le</span> <span class="n">fichier</span> <span class="n">actuel</span> <span class="n">est</span> <span class="n">ajouté</span> <span class="n">avec</span> <span class="n">les</span> <span class="n">données</span><span class="p">,</span> <span class="mi">0</span><span class="o">-</span><span class="n">Aucune</span> <span class="n">modification</span> <span class="n">n</span><span class="err">&#39;</span><span class="n">est</span> <span class="n">pas</span> <span class="n">ajoutée</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">Ajouté</span> <span class="n">et</span> <span class="n">doit</span> <span class="err">ê</span><span class="n">tre</span> <span class="n">modifié</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Autres</span> <span class="n">bits</span><span class="p">,</span> <span class="n">réservés</span><span class="p">,</span> <span class="n">veuillez</span> <span class="n">ne</span> <span class="n">pas</span> <span class="n">modifier</span> <span class="o">*</span> <span class="o">/</span>
<span class="cp">#define VAR_DISK_STATUS 0x2B / * État du disque et du fichier en mode fichier hôte * /</span>
<span class="cp">#define VAR_SD_BIT_FLAG 0x30 / * Indicateur de bit de la carte SD en mode fichier hôte * /</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">0</span><span class="p">,</span> <span class="n">version</span> <span class="n">de</span> <span class="n">la</span> <span class="n">carte</span> <span class="n">SD</span><span class="p">,</span> <span class="mi">0</span><span class="o">-</span> <span class="n">prend</span> <span class="n">uniquement</span> <span class="n">en</span> <span class="n">charge</span> <span class="n">la</span> <span class="n">première</span> <span class="n">version</span> <span class="n">SD</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span> <span class="n">prend</span> <span class="n">en</span> <span class="n">charge</span> <span class="n">la</span> <span class="n">deuxième</span> <span class="n">version</span> <span class="n">SD</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">1</span><span class="p">,</span> <span class="n">reconnaissance</span> <span class="n">automatique</span><span class="p">,</span> <span class="n">carte</span> <span class="mi">0</span><span class="o">-</span><span class="n">SD</span><span class="p">,</span> <span class="n">carte</span> <span class="mi">1</span><span class="o">-</span><span class="n">MMC</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">2</span><span class="p">,</span> <span class="n">identification</span> <span class="n">automatique</span><span class="p">,</span> <span class="n">carte</span> <span class="n">SD</span> <span class="n">de</span> <span class="n">capacité</span> <span class="n">standard</span> <span class="mi">0</span><span class="p">,</span> <span class="n">carte</span> <span class="n">SD</span> <span class="mi">1</span> <span class="n">grande</span> <span class="n">capacité</span> <span class="p">(</span><span class="n">HC</span><span class="o">-</span><span class="n">SD</span><span class="p">)</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">4</span><span class="p">,</span> <span class="n">délai</span> <span class="n">d</span><span class="err">&#39;</span><span class="n">expiration</span> <span class="n">de</span> <span class="n">la</span> <span class="n">commande</span> <span class="n">ACMD41</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">5</span><span class="p">,</span> <span class="n">délai</span> <span class="n">d</span><span class="err">&#39;</span><span class="n">expiration</span> <span class="n">de</span> <span class="n">la</span> <span class="n">commande</span> <span class="n">CMD1</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">6</span><span class="p">,</span> <span class="n">délai</span> <span class="n">d</span><span class="err">&#39;</span><span class="n">expiration</span> <span class="n">de</span> <span class="n">la</span> <span class="n">commande</span> <span class="n">CMD58</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Autres</span> <span class="n">bits</span><span class="p">,</span> <span class="n">réservés</span><span class="p">,</span> <span class="n">veuillez</span> <span class="n">ne</span> <span class="n">pas</span> <span class="n">modifier</span> <span class="o">*</span> <span class="o">/</span>
<span class="cp">#define VAR_UDISK_TOGGLE 0x31 / * L&#39;indicateur de synchronisation du point de terminaison BULK-IN / BULK-OUT du périphérique de stockage USB * /</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">7</span><span class="p">,</span> <span class="n">indicateur</span> <span class="n">de</span> <span class="n">synchronisation</span> <span class="n">de</span> <span class="n">point</span> <span class="n">de</span> <span class="n">terminaison</span> <span class="n">en</span> <span class="n">bloc</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">6</span><span class="p">,</span> <span class="n">indicateur</span> <span class="n">de</span> <span class="n">synchronisation</span> <span class="n">de</span> <span class="n">point</span> <span class="n">de</span> <span class="n">terminaison</span> <span class="n">en</span> <span class="n">bloc</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">5</span> <span class="o">~</span> <span class="n">Bit</span> <span class="mi">0</span><span class="p">,</span> <span class="n">doit</span> <span class="err">ê</span><span class="n">tre</span> <span class="mi">0</span> <span class="o">*</span> <span class="o">/</span>
<span class="cp">#define VAR_UDISK_LUN 0x34 / * Le numéro d&#39;unité logique du périphérique de stockage USB * /</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">7</span> <span class="o">~</span> <span class="n">Bit</span> <span class="mi">4</span><span class="p">,</span> <span class="n">le</span> <span class="n">numéro</span> <span class="n">d</span><span class="err">&#39;</span><span class="n">unité</span> <span class="n">logique</span> <span class="n">actuel</span> <span class="n">du</span> <span class="n">périphérique</span> <span class="n">de</span> <span class="n">stockage</span> <span class="n">USB</span><span class="p">,</span> <span class="n">après</span> <span class="n">que</span> <span class="n">CH376</span> <span class="n">initialise</span> <span class="n">le</span> <span class="n">périphérique</span> <span class="n">de</span> <span class="n">stockage</span> <span class="n">USB</span><span class="p">,</span> <span class="n">la</span> <span class="n">valeur</span> <span class="n">par</span> <span class="n">défaut</span> <span class="n">est</span> <span class="n">d</span><span class="err">&#39;</span><span class="n">accéder</span> <span class="err">à</span> <span class="mi">0</span> <span class="err">#</span> <span class="n">unité</span> <span class="n">logique</span> <span class="o">*</span> <span class="o">/</span>
<span class="o">/</span> <span class="o">*</span> <span class="n">Bit</span> <span class="mi">3</span> <span class="o">~</span> <span class="n">Bit</span> <span class="mi">0</span><span class="p">,</span> <span class="n">le</span> <span class="n">numéro</span> <span class="n">d</span><span class="err">&#39;</span><span class="n">unité</span> <span class="n">logique</span> <span class="n">maximum</span> <span class="n">du</span> <span class="n">périphérique</span> <span class="n">de</span> <span class="n">stockage</span> <span class="n">USB</span><span class="p">,</span> <span class="n">plus</span> <span class="mi">1</span> <span class="n">est</span> <span class="err">é</span><span class="n">gal</span> <span class="n">au</span> <span class="n">nombre</span> <span class="n">d</span><span class="err">&#39;</span><span class="n">unités</span> <span class="n">logiques</span> <span class="o">*</span> <span class="o">/</span>
<span class="cp">#define VAR_SEC_PER_CLUS 0x38 / * Le nombre de secteurs par cluster du disque logique * /</span>
<span class="cp">#define VAR_FILE_DIR_INDEX 0x3B / * Le numéro d&#39;index des informations de répertoire de fichiers en cours dans le secteur * /</span>
<span class="cp">#define VAR_CLUS_SEC_OFS 0x3C / * Le décalage de secteur du pointeur de fichier actuel dans le cluster, 0xFF pointe vers la fin du fichier, la fin du cluster * /</span>

<span class="o">/</span> <span class="o">*</span> <span class="n">Variable</span> <span class="mi">32</span> <span class="n">bits</span> <span class="o">/</span> <span class="mi">4</span> <span class="n">octets</span> <span class="o">*</span> <span class="o">/</span>
<span class="cp">#define VAR_DISK_ROOT 0x44 / * Pour les disques FAT16, c&#39;est le nombre de secteurs occupés par le répertoire racine, et pour les disques FAT32, c&#39;est le numéro de cluster de départ du répertoire racine (longueur totale 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_DSK_TOTAL_CLUS 0x48 / * Le nombre total de clusters du disque logique (la longueur totale est de 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_DSK_START_LBA 0x4C / * Le numéro de secteur absolu de départ du disque logique LBA (longueur totale 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_DSK_DAT_START 0x50 / * LBA de départ de la zone de données du disque logique (la longueur totale est de 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_LBA_BUFFER 0x54 / * LBA correspondant aux données du tampon de données actuel du disque (longueur totale 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_LBA_CURRENT 0x58 / * L&#39;adresse LBA de départ du disque actuellement lu et écrit (la longueur totale est de 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_FAT_DIR_LBA 0x5C / * L&#39;adresse LBA du secteur où se trouvent les informations du répertoire de fichiers en cours (longueur totale 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_START_CLUSTER 0x60 / * Le numéro de cluster de départ du fichier ou du répertoire (dossier) actuel (longueur totale 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_CURRENT_CLUST 0x64 / * Le numéro de cluster actuel du fichier actuel (la longueur totale est de 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_FILE_SIZE 0x68 / * La longueur du fichier actuel (la longueur totale est de 32 bits, octet de poids faible en premier) * /</span>
<span class="cp">#define VAR_CURRENT_OFFSET 0x6C / * Le pointeur de fichier actuel, le décalage d&#39;octet de la position actuelle de lecture et d&#39;écriture (longueur totale 32 bits, octet de poids faible en premier) * / </span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../../../assets/javascripts/bundle.c1ccee15.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs', 'navigation.top', 'content.tabs.link'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>