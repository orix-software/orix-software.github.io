
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-6.1.2">
    
    
      
        <title>SDK for Assembly - Orix</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.19190aaf.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.24b84193.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#orix-sdk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Orix" class="md-header-nav__button md-logo" aria-label="Orix">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Orix
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              SDK for Assembly
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../commands/all/" class="md-tabs__link">
          User guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" class="md-tabs__link md-tabs__link--active">
          Developper guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../hardware/i_o/" class="md-tabs__link">
          Hardware guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../kernel/" class="md-tabs__link">
          Kernel guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../libs/twillib/" class="md-tabs__link">
          Extra Libs
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Orix" class="md-nav__button md-logo" aria-label="Orix">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Orix
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../menu/" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      User guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User guide" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        User guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../commands/all/" class="md-nav__link">
      Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Floppy drive commands
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Floppy drive commands" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        <span class="md-nav__icon md-icon"></span>
        Floppy drive commands
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user_manual/bootfd/" class="md-nav__link">
      Bootfd
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Shell guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Shell guide" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon"></span>
        Shell guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-it-work/" class="md-nav__link">
      Basic 11 commands
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../loader/loader/" class="md-nav__link">
      Software loader
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Updates
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Updates" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        <span class="md-nav__icon md-icon"></span>
        Updates
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../update/2022_3/" class="md-nav__link">
      2022.3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Developper guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Developper guide" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Developper guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../memory/" class="md-nav__link">
      Memory management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buildrom/" class="md-nav__link">
      Build an Orix rom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buildstandalonerom/" class="md-nav__link">
      Build standalone Rom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../binaries/generateBinary/" class="md-nav__link">
      Generate a binary for sdcard/usb key
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        SDK for Assembly
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      SDK for Assembly
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-in-a-project" class="md-nav__link">
    Install in a project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-orix-sdk" class="md-nav__link">
    Load Orix SDK
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-operation" class="md-nav__link">
    Display operation
  </a>
  
    <nav class="md-nav" aria-label="Display operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#print-string-in-text-mode" class="md-nav__link">
    print string in text mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-a-line-in-text-mode" class="md-nav__link">
    Return a line in text mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#files-operation" class="md-nav__link">
    Files operation
  </a>
  
    <nav class="md-nav" aria-label="Files operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fopen" class="md-nav__link">
    FOPEN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fread-macro" class="md-nav__link">
    FREAD macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fwrite-macro" class="md-nav__link">
    FWRITE macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fclose-macro" class="md-nav__link">
    FCLOSE macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdir-macro" class="md-nav__link">
    MKDIR macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chdir-macro" class="md-nav__link">
    CHDIR macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlink-macro" class="md-nav__link">
    UNLINK macro
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-operations" class="md-nav__link">
    Memory operations
  </a>
  
    <nav class="md-nav" aria-label="Memory operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#malloc" class="md-nav__link">
    Malloc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mfree-free-pointer" class="md-nav__link">
    Mfree (free pointer)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strings-operation" class="md-nav__link">
    Strings operation
  </a>
  
    <nav class="md-nav" aria-label="Strings operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#strncpy" class="md-nav__link">
    strncpy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strncat" class="md-nav__link">
    strncat
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buildman/" class="md-nav__link">
      Generate man pages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cc65/" class="md-nav__link">
      cc65
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../header/" class="md-nav__link">
      Binary header format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../joysticks/" class="md-nav__link">
      Joysticks management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pizero_connection/" class="md-nav__link">
      Cross development on real hardware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../oricutronvsreal/" class="md-nav__link">
      Oricutron VS real hardware
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Hardware guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Hardware guide" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Hardware guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/i_o/" class="md-nav__link">
      I/O
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firmware/" class="md-nav__link">
      Firmware informations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/joysticks/" class="md-nav__link">
      Joysticks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/eeprom_structure/" class="md-nav__link">
      Eeprom structure
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Kernel guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Kernel guide" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Kernel guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../kernel/" class="md-nav__link">
      Kernel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kernel/primitives/" class="md-nav__link">
      Primitives
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-it-work/binary_starts/" class="md-nav__link">
      Boot sequence
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Extra Libs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Extra Libs" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Extra Libs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../libs/twillib/" class="md-nav__link">
      Twilighte librairy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-in-a-project" class="md-nav__link">
    Install in a project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-orix-sdk" class="md-nav__link">
    Load Orix SDK
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-operation" class="md-nav__link">
    Display operation
  </a>
  
    <nav class="md-nav" aria-label="Display operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#print-string-in-text-mode" class="md-nav__link">
    print string in text mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-a-line-in-text-mode" class="md-nav__link">
    Return a line in text mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#files-operation" class="md-nav__link">
    Files operation
  </a>
  
    <nav class="md-nav" aria-label="Files operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fopen" class="md-nav__link">
    FOPEN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fread-macro" class="md-nav__link">
    FREAD macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fwrite-macro" class="md-nav__link">
    FWRITE macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fclose-macro" class="md-nav__link">
    FCLOSE macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdir-macro" class="md-nav__link">
    MKDIR macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chdir-macro" class="md-nav__link">
    CHDIR macro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlink-macro" class="md-nav__link">
    UNLINK macro
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-operations" class="md-nav__link">
    Memory operations
  </a>
  
    <nav class="md-nav" aria-label="Memory operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#malloc" class="md-nav__link">
    Malloc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mfree-free-pointer" class="md-nav__link">
    Mfree (free pointer)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strings-operation" class="md-nav__link">
    Strings operation
  </a>
  
    <nav class="md-nav" aria-label="Strings operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#strncpy" class="md-nav__link">
    strncpy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strncat" class="md-nav__link">
    strncat
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="orix-sdk">Orix SDK</h1>
<p>It provides macro to help assembly coding for Orix :</p>
<p>https://github.com/assinie/orix-sdk/</p>
<p>The main way to handle orix-sdk is to add it as gitmodules (for example in a "dependencies folder")</p>
<h2 id="install-in-a-project">Install in a project</h2>
<div class="highlight"><pre><span></span><code>mkdir myasmproject
<span class="nb">cd</span>  myasm_project
mkdir dependencies <span class="o">&amp;&amp;</span> <span class="nb">cd</span> dependencies
git clone https://github.com/assinie/orix-sdk.git
</code></pre></div>

<h2 id="load-orix-sdk">Load Orix SDK</h2>
<p>you just need to load macro file in your code (and telestrat.inc from cc65):</p>
<div class="highlight"><pre><span></span><code><span class="kp">.include</span> <span class="s">&quot;telestrat.inc&quot;</span>
<span class="kp">.include</span> <span class="s">&quot;dependencies/orix-sdk/macros/SDK.mac&quot;</span>
</code></pre></div>

<h2 id="display-operation">Display operation</h2>
<h3 id="print-string-in-text-mode">print string in text mode</h3>
<div class="highlight"><pre><span></span><code>    <span class="c1">;----------------------------------------------------------------------</span>
    <span class="c1">;</span>
    <span class="c1">; usage:</span>
    <span class="c1">;   print #byte [,TELEMON|SAVE]</span>
    <span class="c1">;   print (pointer) [,TELEMON|SAVE]</span>
    <span class="c1">;   print address [,TELEMON|SAVE]</span>
    <span class="c1">;</span>
    <span class="c1">; Option:</span>
    <span class="c1">;   - TELEMON: when used within TELEMON bank</span>
    <span class="c1">;   - NOSAVE : does not preserve A,X,Y registers</span>
    <span class="c1">;</span>
    <span class="c1">; Call XWSTR0 function</span>
    <span class="c1">;</span>
    <span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>  <span class="n">print</span> <span class="n">helloworld_str</span>
  <span class="n">crlf</span> <span class="c1">; Return line</span>
  <span class="k">rts</span>
<span class="nl">helloworld_str:</span>
    <span class="kp">.asciiz</span> <span class="s">&quot;Hello world!&quot;</span>
</code></pre></div>

<h3 id="return-a-line-in-text-mode">Return a line in text mode</h3>
<div class="highlight"><pre><span></span><code><span class="n">crlf</span>
</code></pre></div>

<h2 id="files-operation">Files operation</h2>
<h3 id="fopen">FOPEN</h3>
<div class="highlight"><pre><span></span><code><span class="c1">;----------------------------------------------------------------------</span>
<span class="c1">;</span>
<span class="c1">; usage:</span>
<span class="c1">;   fopen file, mode [,TELEMON] [,ptr] [,oom_msg_ptr] [,fail_value]</span>
<span class="c1">;</span>
<span class="c1">; note:</span>
<span class="c1">;   - file may be: (ptr), address</span>
<span class="c1">;   - if parameter &#39;ptr&#39; is present, store resulting AX in ptr &amp; ptr+1</span>
<span class="c1">;   - if parameter &#39;oom_msg_ptr&#39; is present, emit string pointed by</span>
<span class="c1">;       &#39;oom_msg_ptr&#39; and return if AX is $FFFF (ie XOPEN error)</span>
<span class="c1">;</span>
<span class="c1">; Call XOPEN function</span>
<span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<p>ex :</p>
<div class="highlight"><pre><span></span><code>    <span class="n">fopen</span> <span class="p">(</span><span class="n">basic11_ptr2</span><span class="p">),</span> <span class="n">O_RDONLY</span><span class="p">,,</span><span class="n">fp</span> <span class="c1">; open the filename located in ptr &#39;basic11_ptr2&#39;, in readonly and store the fp in fp address</span>
    <span class="k">cpx</span>     <span class="p">#</span><span class="mh">$FF</span>
    <span class="k">bne</span>     <span class="n">@read_maindb</span> <span class="c1">; not null then  start because we did not found a conf</span>
    <span class="k">cmp</span>     <span class="p">#</span><span class="mh">$FF</span>
    <span class="k">bne</span>     <span class="n">@read_maindb</span> <span class="c1">; not null then  start because we did not found a conf</span>

    <span class="n">print</span>   <span class="n">str_basic11_missing</span>
    <span class="n">crlf</span>    <span class="c1">; Macro for return line</span>
    <span class="k">lda</span>     <span class="p">#</span><span class="mh">$FF</span>
    <span class="k">ldx</span>     <span class="p">#</span><span class="mh">$FF</span>
    <span class="k">rts</span>
<span class="nl">fp:</span>
    <span class="kp">.res</span> <span class="mi">2</span>
<span class="nl">@read_maindb:</span>
    <span class="c1">; bla</span>
</code></pre></div>

<div class="admonition warning">
<p class="admonition-title">The filename/path address must not be in the rom. If it's the case, the string must be copied into main memory because Kernel overlap the ROM. fopen macro from SDK will produce an error, if the 'address' is in a ROM range (eg : $c000-$FFFF). If you use a ptr, macro can not detect it, and XOPEN primitive won't be able to open your file</p>
</div>
<p>See XOPEN kernel primitive : <a href="../kernel/primitives/xopen">XOPEN</a></p>
<h3 id="fread-macro">FREAD macro</h3>
<div class="highlight"><pre><span></span><code>    <span class="c1">;----------------------------------------------------------------------</span>
    <span class="c1">;</span>
    <span class="c1">; usage:</span>
    <span class="c1">;   fread ptr, size, count, fp</span>
    <span class="c1">;</span>
    <span class="c1">; note:</span>
    <span class="c1">;   ptr may be : (ptr), address</span>
    <span class="c1">;   size may be: (ptr), address</span>
    <span class="c1">;   fp may be  : address, #value, {address,y}</span>
    <span class="c1">;</span>
    <span class="c1">; Call XFREAD function</span>
    <span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<p>Example :</p>
<div class="highlight"><pre><span></span><code>    <span class="n">fopen</span> <span class="p">(</span><span class="n">MAN_SAVE_MALLOC_PTR</span><span class="p">),</span> <span class="n">O_RDONLY</span>
    <span class="k">cpx</span>     <span class="p">#</span><span class="mh">$FF</span>
    <span class="k">bne</span>     <span class="n">next</span>

    <span class="k">cmp</span>     <span class="p">#</span><span class="mh">$FF</span>
    <span class="k">bne</span>     <span class="n">next</span>
    <span class="c1">; Not found</span>
    <span class="k">rts</span>

<span class="nl">next:</span>
    <span class="c1">; Save FP</span>
    <span class="k">sta</span>     <span class="n">MAN_FP</span>
    <span class="k">stx</span>     <span class="n">MAN_FP</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">fread</span> <span class="p">(</span><span class="n">myptr</span><span class="p">),</span> <span class="mi">1080</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">MAN_FP</span> <span class="c1">; myptr is from a malloc for example</span>
    <span class="n">fclose</span><span class="p">(</span><span class="n">MAN_FP</span><span class="p">)</span>
</code></pre></div>

<h3 id="fwrite-macro">FWRITE macro</h3>
<div class="highlight"><pre><span></span><code>    <span class="c1">;----------------------------------------------------------------------</span>
    <span class="c1">;</span>
    <span class="c1">; usage:</span>
    <span class="c1">;   fwrite ptr, size, count, fp</span>
    <span class="c1">;</span>
    <span class="c1">; note:</span>
    <span class="c1">;   ptr may be : (ptr), address</span>
    <span class="c1">;   size may be: (ptr), address</span>
    <span class="c1">;   fp may be  : address, #value, {address,y}</span>
    <span class="c1">;</span>
    <span class="c1">; Call XFWRITE function</span>
    <span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<h3 id="fclose-macro">FCLOSE macro</h3>
<div class="highlight"><pre><span></span><code>    <span class="c1">;----------------------------------------------------------------------</span>
    <span class="c1">;</span>
    <span class="c1">; usage:</span>
    <span class="c1">;   fclose (fp) [,TELEMON]</span>
    <span class="c1">;</span>
    <span class="c1">; Call XCLOSE function</span>
    <span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<h3 id="mkdir-macro">MKDIR macro</h3>
<div class="highlight"><pre><span></span><code>    <span class="c1">;----------------------------------------------------------------------</span>
    <span class="c1">;</span>
    <span class="c1">; usage:</span>
    <span class="c1">;   mkdir ptr [,TELEMON]</span>
    <span class="c1">;</span>
    <span class="c1">; note:</span>
    <span class="c1">;   ptr may be: (ptr), address</span>
    <span class="c1">;</span>
    <span class="c1">; Call XMKDIR function</span>
    <span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>    <span class="n">mkdir</span> <span class="n">myfolder</span>
    <span class="k">rts</span>
<span class="nl">myfolder:</span>
    <span class="kp">.asciiz</span> <span class="s">&quot;here&quot;</span>
</code></pre></div>

<h3 id="chdir-macro">CHDIR macro</h3>
<div class="highlight"><pre><span></span><code>    <span class="c1">;----------------------------------------------------------------------</span>
    <span class="c1">;</span>
    <span class="c1">; usage:</span>
    <span class="c1">;   chdir ptr [,TELEMON]</span>
    <span class="c1">;</span>
    <span class="c1">; note:</span>
    <span class="c1">;   ptr may be: (ptr), address</span>
    <span class="c1">;</span>
    <span class="c1">; Call XPUTCWD function</span>
    <span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>    <span class="n">chdir</span> <span class="n">myfolder</span>
    <span class="k">rts</span>
<span class="nl">myfolder:</span>
    <span class="kp">.asciiz</span> <span class="s">&quot;home&quot;</span>
</code></pre></div>

<h3 id="unlink-macro">UNLINK macro</h3>
<div class="highlight"><pre><span></span><code>    <span class="n">unlink</span> <span class="n">myfile</span>
    <span class="k">rts</span>
<span class="nl">myfile:</span>
    <span class="kp">.asciiz</span> <span class="s">&quot;toto.txt&quot;</span>
</code></pre></div>

<h2 id="memory-operations">Memory operations</h2>
<h3 id="malloc">Malloc</h3>
<div class="highlight"><pre><span></span><code><span class="c1">;----------------------------------------------------------------------</span>
<span class="c1">;</span>
<span class="c1">; usage:</span>
<span class="c1">;   malloc size [,ptr] [,oom_msg_ptr] [,fail_value]</span>
<span class="c1">;</span>
<span class="c1">;   malloc #$0100</span>
<span class="c1">;   malloc (ptr)</span>
<span class="c1">;   malloc value</span>
<span class="c1">;</span>
<span class="c1">; Note:</span>
<span class="c1">;   - if parameter &#39;ptr&#39; is present, store resulting AY in ptr &amp;ptr+1</span>
<span class="c1">;   - if parameter &#39;oom_msg_ptr&#39; is present, emit string pointed by</span>
<span class="c1">;       &#39;oom_msg_ptr&#39; and return if AY is null (ie malloc error)</span>
<span class="c1">;</span>
<span class="c1">; Call XMALLOC function</span>
<span class="c1">;</span>
<span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<h3 id="mfree-free-pointer">Mfree (free pointer)</h3>
<div class="highlight"><pre><span></span><code><span class="c1">;----------------------------------------------------------------------</span>
<span class="c1">;</span>
<span class="c1">; usage:</span>
<span class="c1">;   mfree (ptr)</span>
<span class="c1">;</span>
<span class="c1">; Call XFREE function</span>
<span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>    <span class="n">mfree</span> <span class="p">(</span><span class="n">mymalloc</span><span class="p">)</span> <span class="c1">; mymalloc is a 2 bytes zp ptr</span>
    <span class="k">rts</span>
</code></pre></div>

<h2 id="strings-operation">Strings operation</h2>
<h3 id="strncpy">strncpy</h3>
<div class="highlight"><pre><span></span><code><span class="c1">;----------------------------------------------------------------------</span>
<span class="c1">; strncpy src, dest, n</span>
<span class="c1">;</span>
<span class="c1">; Sortie:</span>
<span class="c1">;        A: 0 et Z=1 si copie effectuée, inchangé si non</span>
<span class="c1">;        X: 0</span>
<span class="c1">;        Y: Longueur réellement copiée</span>
<span class="c1">;----------------------------------------------------------------------</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>    <span class="k">lda</span>     <span class="p">#</span><span class="o">&lt;</span><span class="n">file_path</span>
    <span class="k">sta</span>     <span class="n">ptr2</span>
    <span class="k">lda</span>     <span class="p">#</span><span class="o">&gt;</span><span class="n">file_path</span>
    <span class="k">sta</span>     <span class="n">ptr2</span><span class="o">+</span><span class="mi">1</span>

    <span class="n">strncpy</span> <span class="n">ptr2</span><span class="p">,</span> <span class="n">ptr1</span><span class="p">,</span> <span class="p">#</span><span class="mi">20</span> <span class="c1">;Limit 20 bytes (immediate mode) strncpy(src, dest, n)</span>
</code></pre></div>

<h3 id="strncat">strncat</h3>
<p>concat 2 strings. Strings must be terminated by 0</p>
<p>strncat src, dest, n</p>
<div class="highlight"><pre><span></span><code>    <span class="k">lda</span>     <span class="p">#</span><span class="o">&lt;</span><span class="n">file_path</span>
    <span class="k">sta</span>     <span class="n">ptr2</span>
    <span class="k">lda</span>     <span class="p">#</span><span class="o">&gt;</span><span class="n">file_path</span>
    <span class="k">sta</span>     <span class="n">ptr2</span><span class="o">+</span><span class="mi">1</span>

    <span class="n">strncpy</span> <span class="n">ptr2</span><span class="p">,</span> <span class="n">ptr1</span><span class="p">,</span> <span class="p">#</span><span class="mi">20</span> <span class="c1">;strncpy(src, dest, n)</span>

    <span class="k">lda</span>     <span class="n">files_type_loader_low</span>
    <span class="k">sta</span>     <span class="n">ptr2</span>
    <span class="k">lda</span>     <span class="n">files_type_loader_high</span>
    <span class="k">sta</span>     <span class="n">ptr2</span><span class="o">+</span><span class="mi">1</span>


    <span class="n">strncat</span> <span class="n">RESB</span><span class="p">,</span> <span class="n">ptr1</span> <span class="p">,</span> <span class="p">#</span><span class="mi">13</span>
</code></pre></div>

<div class="admonition warning">
<p class="admonition-title">dest ptr will be changed by strncat. dest pointer must be saved</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../binaries/generateBinary/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Generate a binary for sdcard/usb key
              </div>
            </div>
          </a>
        
        
          <a href="../buildman/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Generate man pages
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/OrixTwil" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.youtube.com/user/jede06600/videos" target="_blank" rel="noopener" title="www.youtube.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../../assets/javascripts/bundle.c1ccee15.min.js"></script><script id="__lang" type="application/json">{"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.tabs', 'navigation.top', 'content.tabs.link'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>